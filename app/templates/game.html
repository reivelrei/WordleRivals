{% extends "base.html" %}

{% block content %}
<div class="game-container">
    <h2>Wordle Rivals (Single Player)</h2>
    <div class="guess-counter">
        Guesses remaining: {{ game.remaining_guesses() }}
    </div>

    <div class="grid">
        {% for guess in game.guesses %}
        <div class="row">
            {% for feedback in game.get_feedback(guess) %}
            <div class="tile {{ feedback }}">{{ guess[loop.index0] }}</div>
            {% endfor %}
        </div>
        {% endfor %}

        {% if game.guesses|length < 6 %}
        <div class="row current-row">
            {% for i in range(game.word_length) %}
            <div class="tile empty"></div>
            {% endfor %}
        </div>
        {% endif %}
    </div>

    <form method="POST" action="{{ url_for('main.submit_guess') }}">
        <input type="text" name="guess" maxlength="{{ game.word_length }}"
               pattern="[A-Za-z]{ {{ game.word_length }} }"
               title="{{ game.word_length }} letter word" required autofocus>
        <button type="submit">Submit</button>
    </form>
</div>
{% endblock %}